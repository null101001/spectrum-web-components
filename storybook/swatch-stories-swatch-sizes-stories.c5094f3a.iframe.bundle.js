"use strict";(self.webpackChunk_spectrum_web_components_1st_gen=self.webpackChunk_spectrum_web_components_1st_gen||[]).push([[4565],{"./packages/swatch/sp-swatch-group.dev.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){var define_element_dev=__webpack_require__("./tools/base/src/define-element.dev.js"),mutation_controller=__webpack_require__("../node_modules/@lit-labs/observers/development/mutation-controller.js"),index_dev=__webpack_require__("./tools/base/src/index.dev.js"),decorators_dev=__webpack_require__("./tools/base/src/decorators.dev.js"),RovingTabindex_dev=__webpack_require__("./tools/reactive-controllers/src/RovingTabindex.dev.js");var swatch_group_css=index_dev.AH`
    :host{gap:var(--mod-swatchgroup-spacing-regular,var(--spectrum-swatchgroup-spacing-regular));flex-flow:wrap;justify-content:flex-start;align-items:flex-start;display:inline-flex}:host([density=compact]){gap:var(--mod-swatchgroup-spacing-compact,var(--spectrum-swatchgroup-spacing-compact))}:host([density=spacious]){gap:var(--mod-swatchgroup-spacing-spacious,var(--spectrum-swatchgroup-spacing-spacious))}:host{--spectrum-swatchgroup-spacing-compact:var(--system-swatch-group-spacing-compact);--spectrum-swatchgroup-spacing-regular:var(--system-swatch-group-spacing-regular);--spectrum-swatchgroup-spacing-spacious:var(--system-swatch-group-spacing-spacious)}
`,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(decorators,target,key,kind)=>{for(var decorator,result=kind>1?void 0:kind?__getOwnPropDesc(target,key):target,i=decorators.length-1;i>=0;i--)(decorator=decorators[i])&&(result=(kind?decorator(target,key,result):decorator(result))||result);return kind&&result&&__defProp(target,key,result),result};class SwatchGroup extends((0,index_dev.ZG)(index_dev.wG,{validSizes:["xs","s","m","l"],noDefaultSize:!0})){constructor(){super(),this._selected=[],this.selectedSet=new Set,this.rovingTabindexController=new RovingTabindex_dev.t(this,{focusInIndex:elements=>{let firstEnabledIndex=-1;const firstSelectedIndex=elements.findIndex((el,index)=>(elements[firstEnabledIndex]||el.disabled||(firstEnabledIndex=index),el.selected&&!el.disabled));return elements[firstSelectedIndex]?firstSelectedIndex:firstEnabledIndex},elements:()=>this.swatches,isFocusableElement:el=>!el.disabled}),this.manageChange=async()=>{const presentSet=new Set;this.selectedSet=new Set(this.selected),await Promise.all(this.swatches.map(swatch=>swatch.updateComplete)),this.swatches.forEach(swatch=>{presentSet.add(swatch.value),swatch.selected&&this.selectedSet.add(swatch.value)}),this.selectedSet.forEach(value=>{presentSet.has(value)||this.selectedSet.delete(value)}),this._selected=[...this.selectedSet],this.rovingTabindexController.clearElementCache()},new mutation_controller.g(this,{config:{attributes:!0,childList:!0,subtree:!0},callback:()=>{this.manageChange()}})}static get styles(){return[swatch_group_css]}get selected(){return this._selected}set selected(selected){if(selected===this.selected)return;const oldSelected=this.selected;this._selected=selected,this.requestUpdate("selected",oldSelected)}focus(options){this.rovingTabindexController.focus(options)}handleChange(event){event.stopPropagation();const oldSelected=this.selected;if(!this.selects)return void event.preventDefault();if("single"===this.selects){const{target:target}=event;if(target.tabIndex=0,target.selected=!0,this.selectedSet.has(target.value))return;this.selectedSet.clear(),this.selectedSet.add(target.value),this.rovingTabindexController.elements.forEach(child=>{child!==target&&(child.selected=!1)})}else if("multiple"===this.selects){const{target:target}=event;target.selected?this.selectedSet.add(target.value):this.selectedSet.delete(target.value)}this._selected=[...this.selectedSet];this.dispatchEvent(new Event("change",{cancelable:!0,bubbles:!0}))||(this._selected=oldSelected,event.preventDefault())}getPassthroughSwatchActions(changes){const targetValues={};changes.has("selects")&&(this.selects||void 0!==changes.get("selects"))&&(targetValues.selects=this.selects),changes.has("border")&&(this.border||void 0!==changes.get("border"))&&(targetValues.border=this.border),changes.has("rounding")&&(this.rounding||void 0!==changes.get("rounding"))&&(targetValues.rounding=this.rounding),!changes.has("size")||"m"===this.size&&void 0===changes.get("size")||(targetValues.size=this.size),changes.has("shape")&&(this.shape||void 0!==changes.get("shape"))&&(targetValues.shape=this.shape);const passThroughSwatchActions=[];return Object.keys(targetValues).length&&passThroughSwatchActions.push(swatch=>{"selects"in targetValues&&"multiple"!==targetValues.selects&&swatch.mixedValue&&window.__swc.warn(this,'<sp-swatch> elements can only leverage the "mixed-value" attribute when their <sp-swatch-group> parent element is also leveraging "selects="multiple""',"https://opensource.adobe.com/spectrum-web-components/components/swatch-group/#multiple",{type:"accessibility"}),"border"in targetValues&&(swatch.border=targetValues.border),"rounding"in targetValues&&(swatch.rounding=targetValues.rounding),"shape"in targetValues&&(swatch.shape=targetValues.shape),"size"in targetValues&&(swatch.size=targetValues.size)}),passThroughSwatchActions}getSelectionSwatchActions(changes){const selectionSwatchActions=[];if(!changes.has("selects"))return selectionSwatchActions;this.selects?this.setAttribute("role","single"===this.selects?"radiogroup":"group"):this.removeAttribute("role");const swatchRole=this.selects?{single:"radio",multiple:"checkbox"}[this.selects]:"button";return selectionSwatchActions.push(swatch=>{swatch.setAttribute("role",swatchRole)}),selectionSwatchActions}render(){return index_dev.qy`
      <slot
        @change=${this.handleChange}
        @slotchange=${this.manageChange}
      ></slot>
    `}willUpdate(changes){const swatchActions=[...this.getPassthroughSwatchActions(changes),...this.getSelectionSwatchActions(changes)];let nextSelected=new Set(this.selected);const currentValues=new Set;changes.has("selected")&&swatchActions.push(swatch=>{currentValues.add(swatch.value),nextSelected.has(swatch.value)||!this.hasUpdated&&swatch.selected?swatch.selected=!0:swatch.selected=!1});const doActions=()=>{nextSelected=new Set(this.selected),this.swatches.forEach(swatch=>{swatchActions.forEach(action=>{action(swatch)})}),changes.has("selected")&&(this._selected=[...nextSelected.values()].filter(selectedValue=>currentValues.has(selectedValue)))};this.hasUpdated?doActions():this.shadowRoot.addEventListener("slotchange",()=>{requestAnimationFrame(doActions)},{once:!0})}}__decorateClass([(0,decorators_dev.MZ)({reflect:!0})],SwatchGroup.prototype,"border",2),__decorateClass([(0,decorators_dev.MZ)({reflect:!0})],SwatchGroup.prototype,"density",2),__decorateClass([(0,decorators_dev.MZ)({reflect:!0})],SwatchGroup.prototype,"rounding",2),__decorateClass([(0,decorators_dev.MZ)({type:Array})],SwatchGroup.prototype,"selected",1),__decorateClass([(0,decorators_dev.MZ)()],SwatchGroup.prototype,"selects",2),__decorateClass([(0,decorators_dev.MZ)({reflect:!0})],SwatchGroup.prototype,"shape",2),__decorateClass([(0,decorators_dev.KN)({flatten:!0})],SwatchGroup.prototype,"swatches",2),(0,define_element_dev.e)("sp-swatch-group",SwatchGroup)},"./packages/swatch/stories/swatch-sizes.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{XS:function(){return XS},__namedExportsOrder:function(){return __namedExportsOrder},l:function(){return l},m:function(){return m},s:function(){return s}});var _spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./tools/base/src/index.dev.js");__webpack_require__("./packages/swatch/sp-swatch.dev.js"),__webpack_require__("./packages/swatch/sp-swatch-group.dev.js");__webpack_exports__.default={title:"Swatch/Sizes",component:"sp-swatch"};const template=({size:size,color:color="rgb(255 0 0 / 0.7)"})=>_spectrum_web_components_base__WEBPACK_IMPORTED_MODULE_0__.qy`
  <sp-swatch-group selects="multiple">
    <sp-swatch color=${color} size=${size}></sp-swatch>
    <sp-swatch color=${color} rounding="none" size=${size}></sp-swatch>
    <sp-swatch color=${color} rounding="full" size=${size}></sp-swatch>
    <sp-swatch color=${color} border="light" size=${size}></sp-swatch>
    <sp-swatch color=${color} border="none" size=${size}></sp-swatch>
    <sp-swatch nothing size=${size}></sp-swatch>
    <sp-swatch color=${color} shape="rectangle" size=${size}></sp-swatch>
    <sp-swatch
      color=${color}
      shape="rectangle"
      size=${size}
      disabled
    ></sp-swatch>
    <sp-swatch
      rounding="full"
      shape="rectangle"
      size=${size}
      mixed-value
    ></sp-swatch>
  </sp-swatch-group>
`,XS=()=>template({size:"xs"}),s=()=>template({size:"s"}),m=()=>template({size:"m"}),l=()=>template({size:"l"}),__namedExportsOrder=["XS","s","m","l"];XS.parameters={...XS.parameters,docs:{...XS.parameters?.docs,source:{originalSource:'() => template({\n  size: "xs"\n})',...XS.parameters?.docs?.source}}},s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:'() => template({\n  size: "s"\n})',...s.parameters?.docs?.source}}},m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:'() => template({\n  size: "m"\n})',...m.parameters?.docs?.source}}},l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:'() => template({\n  size: "l"\n})',...l.parameters?.docs?.source}}}}}]);
//# sourceMappingURL=swatch-stories-swatch-sizes-stories.c5094f3a.iframe.bundle.js.map