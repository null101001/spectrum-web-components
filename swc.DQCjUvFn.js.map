{"version":3,"file":"swc.CxYpOtz5.js","sources":["../../../packages/button/src/button-base.css.js","../../../packages/button/src/ButtonBase.js"],"sourcesContent":["\"use strict\";import{css as s}from\"@spectrum-web-components/base\";const e=s`\n    :host{vertical-align:top;--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-100);--spectrum-icon-size:var(--spectrum-workflow-icon-size-100);-webkit-appearance:none;display:inline-flex}:host([disabled]){pointer-events:none;cursor:auto}#button{position:absolute;inset:0}::slotted(sp-overlay),::slotted(sp-tooltip){position:absolute}:host:after,::slotted(*){pointer-events:none}slot[name=icon]::slotted(svg),slot[name=icon]::slotted(img){inline-size:var(--spectrum-icon-size,var(--spectrum-workflow-icon-size-100));block-size:var(--spectrum-icon-size,var(--spectrum-workflow-icon-size-100));fill:currentColor;stroke:currentColor}[icon-only]+#label{display:contents}:host([size=xs]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-50);--spectrum-icon-size:var(--spectrum-workflow-icon-size-50)}:host([size=s]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-75);--spectrum-icon-size:var(--spectrum-workflow-icon-size-75)}:host([size=l]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-200);--spectrum-icon-size:var(--spectrum-workflow-icon-size-200)}:host([size=xl]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-300);--spectrum-icon-size:var(--spectrum-workflow-icon-size-300)}:host([size=xxl]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-400);--spectrum-icon-size:var(--spectrum-workflow-icon-size-400)}\n`;export default e;\n//# sourceMappingURL=button-base.css.js.map\n","\"use strict\";var u=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var s=(n,i,e,t)=>{for(var r=t>1?void 0:t?d(i,e):i,a=n.length-1,l;a>=0;a--)(l=n[a])&&(r=(t?l(i,e,r):l(r))||r);return t&&r&&u(i,e,r),r};import{html as o}from\"@spectrum-web-components/base\";import{property as h,query as c}from\"@spectrum-web-components/base/src/decorators.js\";import{Focusable as p}from\"@spectrum-web-components/shared/src/focusable.js\";import{LikeAnchor as b}from\"@spectrum-web-components/shared/src/like-anchor.js\";import{ObserveSlotText as f}from\"@spectrum-web-components/shared/src/observe-slot-text.js\";import m from\"./button-base.css.js\";export class ButtonBase extends f(b(p),\"\",[\"sp-overlay,sp-tooltip\"]){constructor(){super();this.active=!1;this.type=\"button\";this.proxyFocus=this.proxyFocus.bind(this),this.addEventListener(\"click\",this.handleClickCapture,{capture:!0})}static get styles(){return[m]}get focusElement(){return this}get hasLabel(){return this.slotHasContent}get buttonContent(){return[o`\n        <slot name=\"icon\" ?icon-only=${!this.hasLabel}></slot>\n      `,o`\n        <span id=\"label\">\n          <slot @slotchange=${this.manageTextObservedSlot}></slot>\n        </span>\n      `]}handleClickCapture(e){if(this.disabled)return e.preventDefault(),e.stopImmediatePropagation(),!1;this.shouldProxyClick(e)}proxyFocus(){this.focus()}shouldProxyClick(e){let t=!1;if(e&&(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey))return!1;if(this.anchorElement)this.anchorElement.click(),t=!0;else if(this.type!==\"button\"){const r=document.createElement(\"button\");r.type=this.type,this.insertAdjacentElement(\"afterend\",r),r.click(),r.remove(),t=!0}return t}renderAnchor(){return o`\n      ${this.buttonContent}\n      ${super.renderAnchor({id:\"button\",ariaHidden:!0,className:\"button anchor\",tabindex:-1})}\n    `}renderButton(){return o`\n      ${this.buttonContent}\n    `}render(){return this.href&&this.href.length>0?this.renderAnchor():this.renderButton()}handleKeydown(e){const{code:t}=e;switch(t){case\"Space\":e.preventDefault(),typeof this.href==\"undefined\"&&(this.addEventListener(\"keyup\",this.handleKeyup),this.active=!0);break;default:break}}handleKeypress(e){const{code:t}=e;switch(t){case\"Enter\":case\"NumpadEnter\":this.click();break;default:break}}handleKeyup(e){const{code:t}=e;switch(t){case\"Space\":this.removeEventListener(\"keyup\",this.handleKeyup),this.active=!1,this.click();break;default:break}}manageAnchor(){this.href&&this.href.length>0?(!this.hasAttribute(\"role\")||this.getAttribute(\"role\")===\"button\")&&this.setAttribute(\"role\",\"link\"):(!this.hasAttribute(\"role\")||this.getAttribute(\"role\")===\"link\")&&this.setAttribute(\"role\",\"button\")}firstUpdated(e){super.firstUpdated(e),this.hasAttribute(\"tabindex\")||this.setAttribute(\"tabindex\",\"0\"),this.manageAnchor(),this.addEventListener(\"keydown\",this.handleKeydown),this.addEventListener(\"keypress\",this.handleKeypress)}updated(e){super.updated(e),e.has(\"href\")&&this.manageAnchor(),e.has(\"label\")&&(this.label?this.setAttribute(\"aria-label\",this.label):this.removeAttribute(\"aria-label\")),this.anchorElement&&(this.anchorElement.tabIndex=-1,this.anchorElement.hasAttribute(\"aria-hidden\")||this.anchorElement.setAttribute(\"aria-hidden\",\"true\"),this.anchorElement.addEventListener(\"focus\",this.proxyFocus))}}s([h({type:Boolean,reflect:!0})],ButtonBase.prototype,\"active\",2),s([h({type:String})],ButtonBase.prototype,\"type\",2),s([c(\".anchor\")],ButtonBase.prototype,\"anchorElement\",2);\n//# sourceMappingURL=ButtonBase.js.map\n"],"names":["e","s","u","Object","defineProperty","n","i","t","l","r","a","length","ButtonBase","f","b","p","constructor","super","this","active","type","proxyFocus","bind","addEventListener","handleClickCapture","capture","styles","m","focusElement","hasLabel","slotHasContent","buttonContent","o","manageTextObservedSlot","disabled","preventDefault","stopImmediatePropagation","shouldProxyClick","focus","metaKey","ctrlKey","shiftKey","altKey","anchorElement","click","document","createElement","insertAdjacentElement","remove","renderAnchor","id","ariaHidden","className","tabindex","renderButton","render","href","handleKeydown","code","handleKeyup","handleKeypress","removeEventListener","manageAnchor","hasAttribute","getAttribute","setAttribute","firstUpdated","updated","has","label","removeAttribute","tabIndex","h","Boolean","reflect","prototype","String","c"],"mappings":"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"}