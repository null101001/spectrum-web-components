{"version":3,"file":"swc.DfF9MWIF.js","sources":["../../../tools/reactive-controllers/src/ElementResolution.js"],"sourcesContent":["\"use strict\";export const elementResolverUpdatedSymbol=Symbol(\"element resolver updated\");export class ElementResolutionController{constructor(e,{selector:t}={selector:\"\"}){this._element=null;this._selector=\"\";this.mutationCallback=e=>{let t=!1;e.forEach(s=>{if(!t){if(s.type===\"childList\"){const r=this.element&&[...s.removedNodes].includes(this.element),l=!!this.selector&&[...s.addedNodes].some(this.elementIsSelected);t=t||r||l}if(s.type===\"attributes\"){const r=s.target===this.element,l=!!this.selector&&this.elementIsSelected(s.target);t=t||r||l}}}),t&&this.resolveElement()};this.elementIsSelected=e=>{var t;return this.selectorIsId?(e==null?void 0:e.id)===this.selectorAsId:(t=e==null?void 0:e.matches)==null?void 0:t.call(e,this.selector)};this.host=e,this.selector=t,this.observer=new MutationObserver(this.mutationCallback),this.host.addController(this)}get element(){return this._element}set element(e){if(e===this.element)return;const t=this.element;this._element=e,this.host.requestUpdate(elementResolverUpdatedSymbol,t)}get selector(){return this._selector}set selector(e){e!==this.selector&&(this.releaseElement(),this._selector=e,this.resolveElement())}get selectorAsId(){return this.selector.slice(1)}get selectorIsId(){return!!this.selector&&this.selector.startsWith(\"#\")}hostConnected(){this.resolveElement(),this.observer.observe(this.host.getRootNode(),{subtree:!0,childList:!0,attributes:!0})}hostDisconnected(){this.releaseElement(),this.observer.disconnect()}resolveElement(){if(!this.selector){this.releaseElement();return}const e=this.host.getRootNode();this.element=this.selectorIsId?e.getElementById(this.selectorAsId):e.querySelector(this.selector)}releaseElement(){this.element=null}}\n//# sourceMappingURL=ElementResolution.js.map\n"],"names":["elementResolverUpdatedSymbol","Symbol","ElementResolutionController","constructor","e","selector","t","this","_element","_selector","mutationCallback","forEach","s","type","r","element","removedNodes","includes","l","addedNodes","some","elementIsSelected","target","resolveElement","selectorIsId","id","selectorAsId","matches","call","host","observer","MutationObserver","addController","requestUpdate","releaseElement","slice","startsWith","hostConnected","observe","getRootNode","subtree","childList","attributes","hostDisconnected","disconnect","getElementById","querySelector"],"mappings":"AAaa,MAAAA,EAA+BC,OAAO,4BAE5C,MAAMC,EA6CXC,WAAAA,CACEC,GACEC,SAAAC,GAAmC,CAAED,SAAU,KA/BnDE,KAAQC,SAA+B,KAmBvCD,KAAQE,UAAY,GAsBpBF,KAAUG,iBAAsCN,IAC9C,IAAIE,GAAkB,EACtBF,EAAaO,QAASC,IACpB,IAAIN,EAGJ,IAAsB,cAAlBM,EAASC,KAAsB,CACjC,MAAMC,EACJP,KAAKQ,SAAW,IAAIH,EAASI,cAAcC,SAASV,KAAKQ,SACrDG,IACFX,KAAKF,UACN,IAAIO,EAASO,YAA8BC,KAC1Cb,KAAKc,mBAETf,EACEA,GAAmBQ,GAAyBI,CAChD,CACA,GAAsB,eAAlBN,EAASC,KAAuB,CAClC,MAAMC,EACJF,EAASU,SAAWf,KAAKQ,QACrBG,IACFX,KAAKF,UACPE,KAAKc,kBAAkBT,EAASU,QAClChB,EACEA,GACAQ,GACAI,CACJ,CAAA,IAEEZ,GACFC,KAAKgB,kBAkCThB,KAAQc,kBAAqBjB,IAxI/B,IAAAE,EAyII,OAAOC,KAAKiB,cACR,MAAApB,OAAA,EAAAA,EAAIqB,MAAOlB,KAAKmB,aAChB,OAAApB,EAAA,MAAAF,OAAA,EAAAA,EAAIuB,cAAJ,EAAArB,EAAAsB,KAAAxB,EAAcG,KAAKF,WA3EvBE,KAAKsB,KAAOzB,EACZG,KAAKF,SAAWC,EAChBC,KAAKuB,SAAW,IAAIC,iBAAiBxB,KAAKG,kBAG1CH,KAAKsB,KAAKG,cAAczB,KAC1B,CAtDA,WAAIQ,GACF,OAAOR,KAAKC,QACd,CAEA,WAAIO,CAAQX,GACV,GAAIA,IAAYG,KAAKQ,QACnB,OAEF,MAAMT,EAAWC,KAAKQ,QACtBR,KAAKC,SAAWJ,EAGhBG,KAAKsB,KAAKI,cAAcjC,EAA8BM,EACxD,CAQA,YAAID,GACF,OAAOE,KAAKE,UAGd,YAAIJ,CAASD,GACPA,IAAaG,KAAKF,WAGtBE,KAAK2B,iBACL3B,KAAKE,UAAYL,EACjBG,KAAKgB,iBACP,CAIA,gBAAIG,GACF,OAAOnB,KAAKF,SAAS8B,MAAM,EAC7B,CAEA,gBAAIX,GACF,QAASjB,KAAKF,UAAYE,KAAKF,SAAS+B,WAAW,IACrD,CAgDOC,aAAAA,GACL9B,KAAKgB,iBACLhB,KAAKuB,SAASQ,QAAQ/B,KAAKsB,KAAKU,cAAe,CAC7CC,SAAS,EACTC,WAAW,EACXC,YAAY,GAEhB,CAEOC,gBAAAA,GACLpC,KAAK2B,iBACL3B,KAAKuB,SAASc,YAChB,CAEQrB,cAAAA,GACN,IAAKhB,KAAKF,SAER,YADAE,KAAK2B,iBAIP,MAAM9B,EAASG,KAAKsB,KAAKU,cACzBhC,KAAKQ,QAAUR,KAAKiB,aACfpB,EAAOyC,eAAetC,KAAKmB,cAC3BtB,EAAO0C,cAAcvC,KAAKF,SACjC,CAEQ6B,cAAAA,GACN3B,KAAKQ,QAAU,IACjB"}