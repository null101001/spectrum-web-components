{"version":3,"file":"swc.D1IO_r9Z.js","sources":["../../../tools/theme/src/theme-interfaces.js","../../../tools/theme/src/Theme.js"],"sourcesContent":["\"use strict\";export const SYSTEM_VARIANT_VALUES=[\"spectrum\",\"express\",\"spectrum-two\"],SCALE_VALUES=[\"medium\",\"large\",\"medium-express\",\"large-express\",\"medium-spectrum-two\",\"large-spectrum-two\"],COLOR_VALUES=[\"light\",\"lightest\",\"dark\",\"darkest\",\"light-express\",\"lightest-express\",\"dark-express\",\"darkest-express\",\"light-spectrum-two\",\"lightest-spectrum-two\",\"dark-spectrum-two\",\"darkest-spectrum-two\"];\n//# sourceMappingURL=theme-interfaces.js.map\n","\"use strict\";import{coreVersion as h,version as d}from\"@spectrum-web-components/base/src/version.js\";import{COLOR_VALUES as u,SCALE_VALUES as p,SYSTEM_VARIANT_VALUES as y}from\"./theme-interfaces.js\";const o=class o extends HTMLElement{constructor(){super();this._system=\"spectrum\";this._color=\"\";this._scale=\"\";this._systemContextConsumers=new Map;this._updateRequested=!1;this._contextConsumers=new Map;this.attachShadow({mode:\"open\"});const e=document.importNode(o.template.content,!0);this.shadowRoot.appendChild(e),this.shouldAdoptStyles(),this.addEventListener(\"sp-language-context\",this._handleContextPresence),this.addEventListener(\"sp-system-context\",this._handleSystemContext),this.updateComplete=this.__createDeferredPromise()}static get observedAttributes(){return[\"color\",\"scale\",\"lang\",\"system\"]}attributeChangedCallback(e,t,s){t!==s&&(e===\"color\"?this.color=s:e===\"scale\"?this.scale=s:e===\"lang\"&&s?(this.lang=s,this._provideContext()):e===\"system\"&&(this.system=s,this._provideSystemContext()))}requestUpdate(){this.shouldAdoptStyles()}get system(){const e=o.themeFragmentsByKind.get(\"system\"),{name:t}=e&&e.get(\"default\")||{};return this._system||t||\"\"}set system(e){if(e===this._system)return;const t=e&&y.includes(e)?e:this.system;t!==this._system&&(this._system=t,this.requestUpdate()),t?this.setAttribute(\"system\",t):this.removeAttribute(\"system\")}get color(){const e=o.themeFragmentsByKind.get(\"color\"),{name:t}=e&&e.get(\"default\")||{};return this._color||t||\"\"}set color(e){if(e===this._color)return;const t=e&&u.includes(e)?e:this.color;t!==this._color&&(this._color=t,this.requestUpdate()),t?this.setAttribute(\"color\",t):this.removeAttribute(\"color\")}get scale(){const e=o.themeFragmentsByKind.get(\"scale\"),{name:t}=e&&e.get(\"default\")||{};return this._scale||t||\"\"}set scale(e){if(e===this._scale)return;const t=e&&p.includes(e)?e:this.scale;t!==this._scale&&(this._scale=t,this.requestUpdate()),t?this.setAttribute(\"scale\",t):this.removeAttribute(\"scale\")}get styles(){const e=[...o.themeFragmentsByKind.keys()],t=(i,r,n)=>{const l=n&&n!==\"system\"&&this.system!==\"spectrum\"?i.get(`${r}-${this.system}`):i.get(r),m=r===\"spectrum\"||!n||this.hasAttribute(n);if(l&&m)return l.styles},s=e.reduce((i,r)=>{const n=o.themeFragmentsByKind.get(r);let l;if(r===\"app\"||r===\"core\")l=t(n,r);else{const{[r]:m}=this;l=t(n,m,r)}return l&&i.push(l),i},[]),a=o.themeFragmentsByKind;return this.system,this.color,this.scale,[...s]}static get template(){return this.templateElement||(this.templateElement=document.createElement(\"template\"),this.templateElement.innerHTML=\"<slot></slot>\"),this.templateElement}_handleSystemContext(e){e.stopPropagation();const t=e.composedPath()[0];if(this._systemContextConsumers.has(t))return;const s=()=>this._systemContextConsumers.delete(t);this._systemContextConsumers.set(t,[e.detail.callback,s]);const[a]=this._systemContextConsumers.get(t)||[];a&&a(this.system,s)}__createDeferredPromise(){return new Promise(e=>{this.__resolve=e})}connectedCallback(){this.shouldAdoptStyles(),o.instances.add(this)}disconnectedCallback(){o.instances.delete(this)}async shouldAdoptStyles(){this._updateRequested||(this.updateComplete=this.__createDeferredPromise(),this._updateRequested=!0,this._updateRequested=await!1,this.adoptStyles(),this.__resolve(!0))}adoptStyles(){const e=this.styles,t=[];for(const s of e)t.push(s.styleSheet);this.shadowRoot.adoptedStyleSheets=t}static registerThemeFragment(e,t,s){const a=o.themeFragmentsByKind.get(t)||new Map;a.size===0&&(o.themeFragmentsByKind.set(t,a),a.set(\"default\",{name:e,styles:s}),o.defaultFragments.add(e)),a.set(e,{name:e,styles:s}),o.instances.forEach(i=>i.shouldAdoptStyles())}_provideContext(){this._contextConsumers.forEach(([e,t])=>e(this.lang,t))}_provideSystemContext(){this._systemContextConsumers.forEach(([e,t])=>e(this.system,t))}_handleContextPresence(e){e.stopPropagation();const t=e.composedPath()[0];if(this._contextConsumers.has(t))return;this._contextConsumers.set(t,[e.detail.callback,()=>this._contextConsumers.delete(t)]);const[s,a]=this._contextConsumers.get(t)||[];s&&a&&s(this.lang||document.documentElement.lang||navigator.language,a)}};o.themeFragmentsByKind=new Map,o.defaultFragments=new Set([\"spectrum\"]),o.instances=new Set,o.VERSION=d,o.CORE_VERSION=h;export let Theme=o;function k(g,c,e,t,s){}\n//# sourceMappingURL=Theme.js.map\n"],"names":["SYSTEM_VARIANT_VALUES","SCALE_VALUES","COLOR_VALUES","o","HTMLElement","constructor","super","this","_system","_color","_scale","_systemContextConsumers","Map","_updateRequested","_contextConsumers","attachShadow","mode","e","document","importNode","template","content","shadowRoot","appendChild","shouldAdoptStyles","addEventListener","_handleContextPresence","_handleSystemContext","updateComplete","__createDeferredPromise","observedAttributes","attributeChangedCallback","t","s","color","scale","lang","_provideContext","system","_provideSystemContext","requestUpdate","themeFragmentsByKind","get","name","y","includes","setAttribute","removeAttribute","u","p","styles","keys","getStyle","i","r","n","l","m","hasAttribute","reduce","push","templateElement","createElement","innerHTML","stopPropagation","composedPath","has","unsubscribe","delete","set","detail","callback","a","Promise","__resolve","connectedCallback","instances","add","disconnectedCallback","adoptStyles","styleSheet","adoptedStyleSheets","registerThemeFragment","size","defaultFragments","forEach","documentElement","navigator","language","Set","VERSION","d","CORE_VERSION","h","Theme"],"mappings":"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"}