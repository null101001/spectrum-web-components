{"version":3,"file":"swc.Ohp9evcV.js","sources":["../../../test/lit-helpers.js"],"sourcesContent":["\"use strict\";\nimport { AsyncDirective, directive } from \"lit/async-directive.js\";\nimport { nothing } from \"lit/html.js\";\nclass SpreadDirective extends AsyncDirective {\n  constructor() {\n    super(...arguments);\n    this.prevData = {};\n  }\n  render(_spreadData) {\n    return nothing;\n  }\n  update(part, [spreadData]) {\n    var _a;\n    if (this.element !== part.element) {\n      this.element = part.element;\n    }\n    this.host = ((_a = part.options) == null ? void 0 : _a.host) || this.element;\n    this.apply(spreadData);\n    this.groom(spreadData);\n    this.prevData = spreadData;\n  }\n  apply(data) {\n    if (!data) {\n      return;\n    }\n    const { prevData, element } = this;\n    for (const key in data) {\n      const value = data[key];\n      if (value === prevData[key]) {\n        continue;\n      }\n      const name = key.slice(1);\n      const prevHandler = prevData[key];\n      switch (key[0]) {\n        case \"@\":\n          if (prevHandler) {\n            element.removeEventListener(\n              name,\n              this,\n              value\n            );\n          }\n          element.addEventListener(\n            name,\n            this,\n            value\n          );\n          break;\n        case \".\":\n          element[name] = value;\n          break;\n        case \"?\":\n          if (value) {\n            element.setAttribute(name, \"\");\n          } else {\n            element.removeAttribute(name);\n          }\n          break;\n        default:\n          if (value != null) {\n            element.setAttribute(key, String(value));\n          } else {\n            element.removeAttribute(key);\n          }\n          break;\n      }\n    }\n  }\n  groom(data) {\n    const { prevData, element } = this;\n    if (!prevData) {\n      return;\n    }\n    for (const key in prevData) {\n      if (!data || !(key in data)) {\n        switch (key[0]) {\n          case \"@\":\n            element.removeEventListener(\n              key.slice(1),\n              this,\n              prevData[key]\n            );\n            break;\n          case \".\":\n            element[key.slice(1)] = void 0;\n            break;\n          case \"?\":\n            element.removeAttribute(key.slice(1));\n            break;\n          default:\n            element.removeAttribute(key);\n            break;\n        }\n      }\n    }\n  }\n  handleEvent(event) {\n    const value = this.prevData[`@${event.type}`];\n    if (typeof value === \"function\") {\n      value.call(this.host, event);\n    } else {\n      value.handleEvent(event);\n    }\n  }\n  disconnected() {\n    const { prevData, element } = this;\n    for (const key in prevData) {\n      if (key[0] !== \"@\") {\n        continue;\n      }\n      const value = prevData[key];\n      element.removeEventListener(\n        key.slice(1),\n        this,\n        value\n      );\n    }\n  }\n  reconnected() {\n    const { prevData, element } = this;\n    for (const key in prevData) {\n      if (key[0] !== \"@\") {\n        continue;\n      }\n      const value = prevData[key];\n      element.addEventListener(\n        key.slice(1),\n        this,\n        value\n      );\n    }\n  }\n}\nexport const spread = directive(SpreadDirective);\nclass SpreadPropsDirective extends AsyncDirective {\n  constructor() {\n    super(...arguments);\n    this.prevData = {};\n  }\n  render(_spreadData) {\n    return nothing;\n  }\n  update(part, [spreadData]) {\n    var _a;\n    if (this.element !== part.element) {\n      this.element = part.element;\n    }\n    this.host = ((_a = part.options) == null ? void 0 : _a.host) || this.element;\n    this.apply(spreadData);\n    this.groom(spreadData);\n    this.prevData = spreadData;\n  }\n  apply(data) {\n    if (!data) {\n      return;\n    }\n    const { prevData, element } = this;\n    for (const key in data) {\n      const value = data[key];\n      if (value === prevData[key]) {\n        continue;\n      }\n      element[key] = value;\n    }\n  }\n  groom(data) {\n    const { prevData, element } = this;\n    if (!prevData) {\n      return;\n    }\n    for (const key in prevData) {\n      if (!data || !(key in data)) {\n        element[key] = void 0;\n      }\n    }\n  }\n}\nexport const spreadProps = directive(SpreadPropsDirective);\n//# sourceMappingURL=lit-helpers.js.map\n"],"names":["spreadProps","directive","AsyncDirective","constructor","arguments","this","prevData","render","_spreadData","nothing","update","part","spreadData","_a","element","host","options","apply","groom","data","key","value"],"mappings":"kHAyOa,MAAAA,EAAcC,EA/C3B,cAAmCC,EAAnCC,WAAAA,YAAAC,WAGEC,KAAAC,SAAuC,CAAA,CAAC,CAExCC,MAAAA,CAAOC,GACL,OAAOC,CACT,CACSC,MAAAA,CAAOC,GAAaC,IAlM/B,IAAAC,EAmMQR,KAAKS,UAAaH,EAAqBG,UACzCT,KAAKS,QAAWH,EAAqBG,SAEvCT,KAAKU,MAAO,OAAAF,EAAAF,EAAKK,cAAL,EAAAH,EAAcE,OAAQV,KAAKS,QACvCT,KAAKY,MAAML,GACXP,KAAKa,MAAMN,GACXP,KAAKC,SAAWM,CAClB,CAEAK,KAAAA,CAAME,GACJ,IAAKA,EACH,OAEF,MAAMb,SAAEA,EAAAQ,QAAUA,GAAYT,KAC9B,IAAA,MAAWe,KAAOD,EAAM,CACtB,MAAME,EAAQF,EAAKC,GACfC,IAAUf,EAASc,KAIvBN,EAAQM,GAAOC,EACjB,CACF,CAEAH,KAAAA,CAAMC,GACJ,MAAMb,SAAEA,EAAAQ,QAAUA,GAAYT,KAC9B,GAAKC,EAGL,UAAWc,KAAOd,EACXa,GAAUC,KAAOD,IAEpBL,EAAQM,QAAO,EAGrB"}