{"version":3,"file":"swc.CxlpOol3.js","sources":["../../../packages/overlay/src/InteractionController.js","../../../packages/overlay/src/LongpressController.js","../../../packages/overlay/src/strategies.js","../../../packages/overlay/src/ClickController.js","../../../packages/overlay/src/HoverController.js"],"sourcesContent":["\"use strict\";export var InteractionTypes=(r=>(r.click=\"click\",r.hover=\"hover\",r.longpress=\"longpress\",r))(InteractionTypes||{});export const lastInteractionType=Symbol(\"lastInteractionType\");export class InteractionController{constructor(e,{overlay:t,isPersistent:r,handleOverlayReady:i}){this.target=e;this.isLazilyOpen=!1;this.isPersistent=!1;this.isPersistent=!!r,this.handleOverlayReady=i,this.isPersistent&&this.init(),this.overlay=t}get activelyOpening(){return!1}get open(){var e,t;return(t=(e=this.overlay)==null?void 0:e.open)!=null?t:this.isLazilyOpen}set open(e){if(e!==this.open){if(this.isLazilyOpen=e,this.overlay){this.overlay.open=e,this.target[lastInteractionType]=this.type;return}e&&(customElements.whenDefined(\"sp-overlay\").then(async()=>{const{Overlay:t}=await import(\"./Overlay.js\");this.overlay=new t,this.overlay.open=!0,this.target[lastInteractionType]=this.type}),import(\"@spectrum-web-components/overlay/sp-overlay.js\"))}}get overlay(){return this._overlay}set overlay(e){var t;e&&this._overlay!==e&&(this._overlay&&this._overlay.removeController(this),this._overlay=e,e.addController(this),this.initOverlay(),this.prepareDescription(this.target),(t=this.handleOverlayReady)==null||t.call(this,e))}clearOverlay(){this._overlay&&this._overlay.removeController(this),this._overlay=void 0}prepareDescription(e){}releaseDescription(){}shouldCompleteOpen(){}init(){}initOverlay(){}abort(){var e;this.releaseDescription(),(e=this.abortController)==null||e.abort()}hostConnected(){this.init()}hostDisconnected(){this.isPersistent||this.abort()}}\n//# sourceMappingURL=InteractionController.js.map\n","\"use strict\";import{conditionAttributeWithId as a}from\"@spectrum-web-components/base/src/condition-attribute-with-id.js\";import{isAndroid as d,isIOS as p}from\"@spectrum-web-components/shared/src/platform.js\";import{randomID as l}from\"@spectrum-web-components/shared/src/random-id.js\";import{noop as r}from\"./AbstractOverlay.js\";import{InteractionController as h,InteractionTypes as c}from\"./InteractionController.js\";const u=300;export const LONGPRESS_INSTRUCTIONS={touch:\"Double tap and long press for additional options\",keyboard:\"Press Space or Alt+Down Arrow for additional options\",mouse:\"Click and hold for additional options\"};export class LongpressController extends h{constructor(){super(...arguments);this.type=c.longpress;this.longpressState=null;this.releaseDescription=r;this.handlePointerup=()=>{var e;clearTimeout(this.timeout),this.target&&(this.longpressState=((e=this.overlay)==null?void 0:e.state)===\"opening\"?\"pressed\":null,document.removeEventListener(\"pointerup\",this.handlePointerup),document.removeEventListener(\"pointercancel\",this.handlePointerup))}}get activelyOpening(){return this.longpressState===\"opening\"||this.longpressState===\"pressed\"}handleLongpress(){this.open=!0,this.longpressState=this.longpressState===\"potential\"?\"opening\":\"pressed\"}handlePointerdown(e){!this.target||e.button!==0||(this.longpressState=\"potential\",document.addEventListener(\"pointerup\",this.handlePointerup),document.addEventListener(\"pointercancel\",this.handlePointerup),\"holdAffordance\"in this.target)||(this.timeout=setTimeout(()=>{this.target&&this.target.dispatchEvent(new CustomEvent(\"longpress\",{bubbles:!0,composed:!0,detail:{source:\"pointer\"}}))},u))}handleKeydown(e){const{code:t,altKey:o}=e;o&&t===\"ArrowDown\"&&e.stopImmediatePropagation()}handleKeyup(e){const{code:t,altKey:o}=e;if(t===\"Space\"||o&&t===\"ArrowDown\"){if(!this.target)return;e.stopPropagation(),this.target.dispatchEvent(new CustomEvent(\"longpress\",{bubbles:!0,composed:!0,detail:{source:\"keyboard\"}})),setTimeout(()=>{this.longpressState=null})}}prepareDescription(e){if(this.releaseDescription!==r||!this.overlay||!this.overlay.elements.length)return;const t=document.createElement(\"div\");t.id=`longpress-describedby-descriptor-${l()}`;const o=p()||d()?\"touch\":\"keyboard\";t.textContent=LONGPRESS_INSTRUCTIONS[o],t.slot=\"longpress-describedby-descriptor\";const n=e.getRootNode(),s=this.overlay.getRootNode();n===s?this.overlay.append(t):(t.hidden=!(\"host\"in n),e.insertAdjacentElement(\"afterend\",t));const i=a(e,\"aria-describedby\",[t.id]);this.releaseDescription=()=>{i(),t.remove(),this.releaseDescription=r}}shouldCompleteOpen(){this.longpressState=this.longpressState===\"pressed\"?null:this.longpressState}init(){var t;(t=this.abortController)==null||t.abort(),this.abortController=new AbortController;const{signal:e}=this.abortController;this.target.addEventListener(\"longpress\",()=>this.handleLongpress(),{signal:e}),this.target.addEventListener(\"pointerdown\",o=>this.handlePointerdown(o),{signal:e}),this.prepareDescription(this.target),!this.target.holdAffordance&&(this.target.addEventListener(\"keydown\",o=>this.handleKeydown(o),{signal:e}),this.target.addEventListener(\"keyup\",o=>this.handleKeyup(o),{signal:e}))}}\n//# sourceMappingURL=LongpressController.js.map\n","\"use strict\";import{ClickController as o}from\"./ClickController.js\";import{HoverController as r}from\"./HoverController.js\";import{LongpressController as e}from\"./LongpressController.js\";export const strategies={click:o,longpress:e,hover:r};\n//# sourceMappingURL=strategies.js.map\n","\"use strict\";import{InteractionController as o,InteractionTypes as r}from\"./InteractionController.js\";export class ClickController extends o{constructor(){super(...arguments);this.type=r.click;this.preventNextToggle=!1}handleClick(){this.preventNextToggle||(this.open=!this.open),this.preventNextToggle=!1}handlePointerdown(){this.preventNextToggle=this.open}init(){var t;(t=this.abortController)==null||t.abort(),this.abortController=new AbortController;const{signal:e}=this.abortController;this.target.addEventListener(\"click\",()=>this.handleClick(),{signal:e}),this.target.addEventListener(\"pointerdown\",()=>this.handlePointerdown(),{signal:e})}}\n//# sourceMappingURL=ClickController.js.map\n","\"use strict\";import{conditionAttributeWithId as o}from\"@spectrum-web-components/base/src/condition-attribute-with-id.js\";import{randomID as h}from\"@spectrum-web-components/shared/src/random-id.js\";import{noop as s}from\"./AbstractOverlay.js\";import{InteractionController as d,InteractionTypes as a,lastInteractionType as v}from\"./InteractionController.js\";export class HoverController extends d{constructor(){super(...arguments);this.type=a.hover;this.elementIds=[];this.targetFocused=!1;this.hovering=!1;this.overlayFocused=!1}handleKeyup(e){e.code===\"Tab\"?this.open=!0:e.code===\"Escape\"&&this.open&&(e.preventDefault(),e.stopPropagation(),this.open=!1,this.target&&this.target.focus())}handleTargetFocusin(){this.target.matches(\":focus-visible\")&&this.target[v]!==a.click&&(this.open=!0,this.targetFocused=!0)}handleTargetFocusout(){this.targetFocused=!1,!this.hovering&&this.doFocusleave()}clearCloseTimeout(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0)}handleTargetPointerenter(){var e;this.clearCloseTimeout(),!((e=this.overlay)!=null&&e.disabled)&&(this.open=!0,this.hovering=!0)}handleTargetPointerleave(){this.doPointerleave()}handleHostPointerenter(){this.clearCloseTimeout()}handleHostPointerleave(){this.doPointerleave()}handleOverlayFocusin(){this.overlayFocused=!0,this.clearCloseTimeout()}handleOverlayFocusout(){this.overlayFocused=!1,!this.hovering&&(this.targetFocused&&this.target.matches(\":focus-visible\")||this.doFocusleave())}prepareDescription(){if(!this.overlay||!this.overlay.elements.length)return;const e=this.target.getRootNode(),t=this.overlay.elements[0].getRootNode(),r=this.overlay.getRootNode();e===r?this.prepareOverlayRelativeDescription():e===t&&this.prepareContentRelativeDescription()}prepareOverlayRelativeDescription(){if(!this.overlay)return;const e=o(this.target,\"aria-describedby\",[this.overlay.id]);this.releaseDescription=()=>{e(),this.releaseDescription=s}}prepareContentRelativeDescription(){if(!this.overlay)return;const e=this.overlay,t=[],r=e.elements.map(i=>(t.push(i.id),i.id||(i.id=`${e.tagName.toLowerCase()}-helper-${h()}`),i.id));this.elementIds=t;const n=o(this.target,\"aria-describedby\",r);this.releaseDescription=()=>{n(),e.elements.map((i,l)=>{i.id=this.elementIds[l]}),this.releaseDescription=s}}scheduleClose(){this.hoverTimeout=setTimeout(()=>{this.open=!1},300)}doPointerleave(){this.hovering=!1;const e=this.target;this.targetFocused&&e.matches(\":focus-visible\")||this.overlayFocused||this.scheduleClose()}doFocusleave(){this.clearCloseTimeout(),!this.targetFocused&&!this.overlayFocused&&!this.hovering&&this.scheduleClose()}init(){var t;(t=this.abortController)==null||t.abort(),this.abortController=new AbortController;const{signal:e}=this.abortController;this.target.addEventListener(\"keyup\",r=>this.handleKeyup(r),{signal:e}),this.target.addEventListener(\"focusin\",()=>this.handleTargetFocusin(),{signal:e}),this.target.addEventListener(\"focusout\",()=>this.handleTargetFocusout(),{signal:e}),this.target.addEventListener(\"pointerenter\",()=>this.handleTargetPointerenter(),{signal:e}),this.target.addEventListener(\"pointerleave\",()=>this.handleTargetPointerleave(),{signal:e}),this.overlay&&this.initOverlay()}initOverlay(){if(!this.abortController||!this.overlay)return;const{signal:e}=this.abortController;this.overlay.addEventListener(\"pointerenter\",()=>this.handleHostPointerenter(),{signal:e}),this.overlay.addEventListener(\"pointerleave\",()=>this.handleHostPointerleave(),{signal:e}),this.overlay.addEventListener(\"focusin\",()=>this.handleOverlayFocusin(),{signal:e}),this.overlay.addEventListener(\"focusout\",()=>this.handleOverlayFocusout(),{signal:e}),this.overlay.addEventListener(\"keyup\",t=>this.handleKeyup(t),{signal:e})}}\n//# sourceMappingURL=HoverController.js.map\n"],"names":["r","InteractionTypes","click","hover","longpress","lastInteractionType","Symbol","InteractionController","constructor","e","overlay","t","isPersistent","handleOverlayReady","i","this","target","isLazilyOpen","init","activelyOpening","open","type","customElements","whenDefined","then","async","Overlay","import","_overlay","removeController","addController","initOverlay","prepareDescription","call","clearOverlay","releaseDescription","shouldCompleteOpen","abort","abortController","hostConnected","hostDisconnected","LONGPRESS_INSTRUCTIONS","touch","keyboard","mouse","strategies","o","super","arguments","preventNextToggle","handleClick","handlePointerdown","AbortController","signal","addEventListener","h","c","longpressState","handlePointerup","clearTimeout","timeout","state","document","removeEventListener","handleLongpress","button","setTimeout","dispatchEvent","CustomEvent","bubbles","composed","detail","source","handleKeydown","code","altKey","stopImmediatePropagation","handleKeyup","stopPropagation","elements","length","createElement","id","l","p","d","textContent","slot","n","getRootNode","append","hidden","insertAdjacentElement","a","remove","holdAffordance","elementIds","targetFocused","hovering","overlayFocused","preventDefault","focus","handleTargetFocusin","matches","v","handleTargetFocusout","doFocusleave","clearCloseTimeout","hoverTimeout","handleTargetPointerenter","disabled","handleTargetPointerleave","doPointerleave","handleHostPointerenter","handleHostPointerleave","handleOverlayFocusin","handleOverlayFocusout","prepareOverlayRelativeDescription","prepareContentRelativeDescription","s","map","push","tagName","toLowerCase","scheduleClose"],"mappings":"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"}