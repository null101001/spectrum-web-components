import{v as t,c as e}from"./swc.CZZTz5mk.js";const s=["spectrum","express","spectrum-two"],o=["medium","large","medium-express","large-express","medium-spectrum-two","large-spectrum-two"],n=["light","lightest","dark","darkest","light-express","lightest-express","dark-express","darkest-express","light-spectrum-two","lightest-spectrum-two","dark-spectrum-two","darkest-spectrum-two"],r=class t extends HTMLElement{constructor(){super(),this._system="spectrum",this._color="",this._scale="",this._systemContextConsumers=new Map,this._updateRequested=!1,this._contextConsumers=new Map,this.attachShadow({mode:"open"});const e=document.importNode(t.template.content,!0);this.shadowRoot.appendChild(e),this.shouldAdoptStyles(),this.addEventListener("sp-language-context",this._handleContextPresence),this.addEventListener("sp-system-context",this._handleSystemContext),this.updateComplete=this.__createDeferredPromise()}static get observedAttributes(){return["color","scale","lang","system"]}attributeChangedCallback(t,e,s){e!==s&&("color"===t?this.color=s:"scale"===t?this.scale=s:"lang"===t&&s?(this.lang=s,this._provideContext()):"system"===t&&(this.system=s,this._provideSystemContext()))}requestUpdate(){this.shouldAdoptStyles()}get system(){const e=t.themeFragmentsByKind.get("system"),{name:s}=e&&e.get("default")||{};return this._system||s||""}set system(t){if(t===this._system)return;const e=t&&s.includes(t)?t:this.system;e!==this._system&&(this._system=e,this.requestUpdate()),e?this.setAttribute("system",e):this.removeAttribute("system")}get color(){const e=t.themeFragmentsByKind.get("color"),{name:s}=e&&e.get("default")||{};return this._color||s||""}set color(t){if(t===this._color)return;const e=t&&n.includes(t)?t:this.color;e!==this._color&&(this._color=e,this.requestUpdate()),e?this.setAttribute("color",e):this.removeAttribute("color")}get scale(){const e=t.themeFragmentsByKind.get("scale"),{name:s}=e&&e.get("default")||{};return this._scale||s||""}set scale(t){if(t===this._scale)return;const e=t&&o.includes(t)?t:this.scale;e!==this._scale&&(this._scale=e,this.requestUpdate()),e?this.setAttribute("scale",e):this.removeAttribute("scale")}get styles(){const e=[...t.themeFragmentsByKind.keys()],s=(t,e,s)=>{const o=s&&"system"!==s&&"spectrum"!==this.system?t.get(`${e}-${this.system}`):t.get(e),n="spectrum"===e||!s||this.hasAttribute(s);if(o&&n)return o.styles},o=e.reduce((e,o)=>{const n=t.themeFragmentsByKind.get(o);let r;if("app"===o||"core"===o)r=s(n,o);else{const{[o]:t}=this;r=s(n,t,o)}return r&&e.push(r),e},[]);return t.themeFragmentsByKind,this.system,this.color,this.scale,[...o]}static get template(){return this.templateElement||(this.templateElement=document.createElement("template"),this.templateElement.innerHTML="<slot></slot>"),this.templateElement}_handleSystemContext(t){t.stopPropagation();const e=t.composedPath()[0];if(this._systemContextConsumers.has(e))return;const s=()=>this._systemContextConsumers.delete(e);this._systemContextConsumers.set(e,[t.detail.callback,s]);const[o]=this._systemContextConsumers.get(e)||[];o&&o(this.system,s)}__createDeferredPromise(){return new Promise(t=>{this.__resolve=t})}connectedCallback(){this.shouldAdoptStyles(),t.instances.add(this)}disconnectedCallback(){t.instances.delete(this)}async shouldAdoptStyles(){this._updateRequested||(this.updateComplete=this.__createDeferredPromise(),this._updateRequested=!0,this._updateRequested=await!1,this.adoptStyles(),this.__resolve(!0))}adoptStyles(){const t=this.styles,e=[];for(const s of t)e.push(s.styleSheet);this.shadowRoot.adoptedStyleSheets=e}static registerThemeFragment(e,s,o){const n=t.themeFragmentsByKind.get(s)||new Map;0===n.size&&(t.themeFragmentsByKind.set(s,n),n.set("default",{name:e,styles:o}),t.defaultFragments.add(e)),n.set(e,{name:e,styles:o}),t.instances.forEach(t=>t.shouldAdoptStyles())}_provideContext(){this._contextConsumers.forEach(([t,e])=>t(this.lang,e))}_provideSystemContext(){this._systemContextConsumers.forEach(([t,e])=>t(this.system,e))}_handleContextPresence(t){t.stopPropagation();const e=t.composedPath()[0];if(this._contextConsumers.has(e))return;this._contextConsumers.set(e,[t.detail.callback,()=>this._contextConsumers.delete(e)]);const[s,o]=this._contextConsumers.get(e)||[];s&&o&&s(this.lang||document.documentElement.lang||navigator.language,o)}};r.themeFragmentsByKind=new Map,r.defaultFragments=new Set(["spectrum"]),r.instances=new Set,r.VERSION=t,r.CORE_VERSION=e;let i=r;export{i as T};
//# sourceMappingURL=swc.B8cvSSLI.js.map
