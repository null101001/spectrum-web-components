{"version":3,"file":"swc.DFQQkXTK.js","sources":["../../../packages/iconset/src/iconset-registry.js","../../../packages/icon/src/Icon.js","../../../packages/icon/sp-icon.js"],"sourcesContent":["\"use strict\";export class IconsetRegistry{constructor(){this.iconsetMap=new Map}static getInstance(){return IconsetRegistry.instance||(IconsetRegistry.instance=new IconsetRegistry),IconsetRegistry.instance}addIconset(e,t){this.iconsetMap.set(e,t);const n=new CustomEvent(\"sp-iconset-added\",{bubbles:!0,composed:!0,detail:{name:e,iconset:t}});setTimeout(()=>window.dispatchEvent(n),0)}removeIconset(e){this.iconsetMap.delete(e);const t=new CustomEvent(\"sp-iconset-removed\",{bubbles:!0,composed:!0,detail:{name:e}});setTimeout(()=>window.dispatchEvent(t),0)}getIconset(e){return this.iconsetMap.get(e)}}\n//# sourceMappingURL=iconset-registry.js.map\n","\"use strict\";var p=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var o=(s,r,e,t)=>{for(var i=t>1?void 0:t?l(r,e):r,n=s.length-1,a;n>=0;n--)(a=s[n])&&(i=(t?a(r,e,i):a(i))||i);return t&&i&&p(r,e,i),i};import{html as c}from\"@spectrum-web-components/base\";import{property as d,query as m}from\"@spectrum-web-components/base/src/decorators.js\";import{ifDefined as u}from\"@spectrum-web-components/base/src/directives.js\";import{IconsetRegistry as h}from\"@spectrum-web-components/iconset/src/iconset-registry.js\";import{IconBase as v}from\"./IconBase.js\";export class Icon extends v{constructor(){super(...arguments);this.iconsetListener=e=>{if(!this.name)return;const t=this.parseIcon(this.name);e.detail.name===t.iconset&&(this.updateIconPromise=this.updateIcon())}}connectedCallback(){super.connectedCallback(),window.addEventListener(\"sp-iconset-added\",this.iconsetListener)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener(\"sp-iconset-added\",this.iconsetListener)}firstUpdated(){this.updateIconPromise=this.updateIcon()}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),this.updateIconPromise=this.updateIcon()}announceIconImageSrcError(){this.dispatchEvent(new Event(\"error\",{cancelable:!1,bubbles:!1,composed:!1}))}render(){return this.name?c`\n        <div id=\"container\"></div>\n      `:this.src?c`\n        <img\n          src=${this.src}\n          alt=${u(this.label)}\n          @error=${this.announceIconImageSrcError}\n        />\n      `:super.render()}async updateIcon(){if(this.updateIconPromise&&await this.updateIconPromise,!this.name)return Promise.resolve();const e=this.parseIcon(this.name),t=h.getInstance().getIconset(e.iconset);return!t||!this.iconContainer?Promise.resolve():(this.iconContainer.innerHTML=\"\",t.applyIconToElement(this.iconContainer,e.icon,this.size||\"\",this.label?this.label:\"\"))}parseIcon(e){const t=e.split(\":\");let i=\"default\",n=e;return t.length>1&&(i=t[0],n=t[1]),{iconset:i,icon:n}}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.updateIconPromise,e}}o([d()],Icon.prototype,\"src\",2),o([d()],Icon.prototype,\"name\",2),o([m(\"#container\")],Icon.prototype,\"iconContainer\",2);\n//# sourceMappingURL=Icon.js.map\n","\"use strict\";import{defineElement as e}from\"@spectrum-web-components/base/src/define-element.js\";import{Icon as o}from\"./src/Icon.js\";e(\"sp-icon\",o);\n//# sourceMappingURL=sp-icon.js.map\n"],"names":["IconsetRegistry","constructor","this","iconsetMap","Map","getInstance","instance","addIconset","e","t","set","n","CustomEvent","bubbles","composed","detail","name","iconset","setTimeout","window","dispatchEvent","removeIconset","delete","getIconset","get","p","Object","defineProperty","o","s","r","a","i","length","Icon","v","super","arguments","iconsetListener","parseIcon","updateIconPromise","updateIcon","connectedCallback","addEventListener","disconnectedCallback","removeEventListener","firstUpdated","attributeChangedCallback","announceIconImageSrcError","Event","cancelable","render","c","src","u","label","Promise","resolve","h","iconContainer","innerHTML","applyIconToElement","icon","size","split","getUpdateComplete","d","prototype","m"],"mappings":"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"}