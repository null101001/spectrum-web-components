{"version":3,"file":"swc.D1IO_r9Z.js","sources":["../../../tools/theme/src/theme-interfaces.js","../../../tools/theme/src/Theme.js"],"sourcesContent":["\"use strict\";export const SYSTEM_VARIANT_VALUES=[\"spectrum\",\"express\",\"spectrum-two\"],SCALE_VALUES=[\"medium\",\"large\",\"medium-express\",\"large-express\",\"medium-spectrum-two\",\"large-spectrum-two\"],COLOR_VALUES=[\"light\",\"lightest\",\"dark\",\"darkest\",\"light-express\",\"lightest-express\",\"dark-express\",\"darkest-express\",\"light-spectrum-two\",\"lightest-spectrum-two\",\"dark-spectrum-two\",\"darkest-spectrum-two\"];\n//# sourceMappingURL=theme-interfaces.js.map\n","\"use strict\";import{coreVersion as h,version as d}from\"@spectrum-web-components/base/src/version.js\";import{COLOR_VALUES as u,SCALE_VALUES as p,SYSTEM_VARIANT_VALUES as y}from\"./theme-interfaces.js\";const o=class o extends HTMLElement{constructor(){super();this._system=\"spectrum\";this._color=\"\";this._scale=\"\";this._systemContextConsumers=new Map;this._updateRequested=!1;this._contextConsumers=new Map;this.attachShadow({mode:\"open\"});const e=document.importNode(o.template.content,!0);this.shadowRoot.appendChild(e),this.shouldAdoptStyles(),this.addEventListener(\"sp-language-context\",this._handleContextPresence),this.addEventListener(\"sp-system-context\",this._handleSystemContext),this.updateComplete=this.__createDeferredPromise()}static get observedAttributes(){return[\"color\",\"scale\",\"lang\",\"system\"]}attributeChangedCallback(e,t,s){t!==s&&(e===\"color\"?this.color=s:e===\"scale\"?this.scale=s:e===\"lang\"&&s?(this.lang=s,this._provideContext()):e===\"system\"&&(this.system=s,this._provideSystemContext()))}requestUpdate(){this.shouldAdoptStyles()}get system(){const e=o.themeFragmentsByKind.get(\"system\"),{name:t}=e&&e.get(\"default\")||{};return this._system||t||\"\"}set system(e){if(e===this._system)return;const t=e&&y.includes(e)?e:this.system;t!==this._system&&(this._system=t,this.requestUpdate()),t?this.setAttribute(\"system\",t):this.removeAttribute(\"system\")}get color(){const e=o.themeFragmentsByKind.get(\"color\"),{name:t}=e&&e.get(\"default\")||{};return this._color||t||\"\"}set color(e){if(e===this._color)return;const t=e&&u.includes(e)?e:this.color;t!==this._color&&(this._color=t,this.requestUpdate()),t?this.setAttribute(\"color\",t):this.removeAttribute(\"color\")}get scale(){const e=o.themeFragmentsByKind.get(\"scale\"),{name:t}=e&&e.get(\"default\")||{};return this._scale||t||\"\"}set scale(e){if(e===this._scale)return;const t=e&&p.includes(e)?e:this.scale;t!==this._scale&&(this._scale=t,this.requestUpdate()),t?this.setAttribute(\"scale\",t):this.removeAttribute(\"scale\")}get styles(){const e=[...o.themeFragmentsByKind.keys()],t=(i,r,n)=>{const l=n&&n!==\"system\"&&this.system!==\"spectrum\"?i.get(`${r}-${this.system}`):i.get(r),m=r===\"spectrum\"||!n||this.hasAttribute(n);if(l&&m)return l.styles},s=e.reduce((i,r)=>{const n=o.themeFragmentsByKind.get(r);let l;if(r===\"app\"||r===\"core\")l=t(n,r);else{const{[r]:m}=this;l=t(n,m,r)}return l&&i.push(l),i},[]),a=o.themeFragmentsByKind;return this.system,this.color,this.scale,[...s]}static get template(){return this.templateElement||(this.templateElement=document.createElement(\"template\"),this.templateElement.innerHTML=\"<slot></slot>\"),this.templateElement}_handleSystemContext(e){e.stopPropagation();const t=e.composedPath()[0];if(this._systemContextConsumers.has(t))return;const s=()=>this._systemContextConsumers.delete(t);this._systemContextConsumers.set(t,[e.detail.callback,s]);const[a]=this._systemContextConsumers.get(t)||[];a&&a(this.system,s)}__createDeferredPromise(){return new Promise(e=>{this.__resolve=e})}connectedCallback(){this.shouldAdoptStyles(),o.instances.add(this)}disconnectedCallback(){o.instances.delete(this)}async shouldAdoptStyles(){this._updateRequested||(this.updateComplete=this.__createDeferredPromise(),this._updateRequested=!0,this._updateRequested=await!1,this.adoptStyles(),this.__resolve(!0))}adoptStyles(){const e=this.styles,t=[];for(const s of e)t.push(s.styleSheet);this.shadowRoot.adoptedStyleSheets=t}static registerThemeFragment(e,t,s){const a=o.themeFragmentsByKind.get(t)||new Map;a.size===0&&(o.themeFragmentsByKind.set(t,a),a.set(\"default\",{name:e,styles:s}),o.defaultFragments.add(e)),a.set(e,{name:e,styles:s}),o.instances.forEach(i=>i.shouldAdoptStyles())}_provideContext(){this._contextConsumers.forEach(([e,t])=>e(this.lang,t))}_provideSystemContext(){this._systemContextConsumers.forEach(([e,t])=>e(this.system,t))}_handleContextPresence(e){e.stopPropagation();const t=e.composedPath()[0];if(this._contextConsumers.has(t))return;this._contextConsumers.set(t,[e.detail.callback,()=>this._contextConsumers.delete(t)]);const[s,a]=this._contextConsumers.get(t)||[];s&&a&&s(this.lang||document.documentElement.lang||navigator.language,a)}};o.themeFragmentsByKind=new Map,o.defaultFragments=new Set([\"spectrum\"]),o.instances=new Set,o.VERSION=d,o.CORE_VERSION=h;export let Theme=o;function k(g,c,e,t,s){}\n//# sourceMappingURL=Theme.js.map\n"],"names":["SYSTEM_VARIANT_VALUES","SCALE_VALUES","COLOR_VALUES","o","HTMLElement","constructor","super","this","_system","_color","_scale","_systemContextConsumers","Map","_updateRequested","_contextConsumers","attachShadow","mode","e","document","importNode","template","content","shadowRoot","appendChild","shouldAdoptStyles","addEventListener","_handleContextPresence","_handleSystemContext","updateComplete","__createDeferredPromise","observedAttributes","attributeChangedCallback","t","s","color","scale","lang","_provideContext","system","_provideSystemContext","requestUpdate","themeFragmentsByKind","get","name","y","includes","setAttribute","removeAttribute","u","p","styles","keys","getStyle","i","r","n","l","m","hasAttribute","reduce","push","templateElement","createElement","innerHTML","stopPropagation","composedPath","has","unsubscribe","delete","set","detail","callback","a","Promise","__resolve","connectedCallback","instances","add","disconnectedCallback","adoptStyles","styleSheet","adoptedStyleSheets","registerThemeFragment","size","defaultFragments","forEach","documentElement","navigator","language","Set","VERSION","d","CORE_VERSION","h","Theme"],"mappings":"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"}