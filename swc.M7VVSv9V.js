import{A as t}from"./swc.spAK1eJ9.js";import{I as e,s}from"./swc.Dw-Zr9pp.js";import{r as i}from"./swc.mUX8iMJZ.js";import{f as r}from"./swc.hDiCrj8T.js";import{E as n,B as o}from"./swc.DPhAUhmd.js";import{e as l}from"./swc.CjPt0-_4.js";class a extends r{render(t){return n}update(t,[e]){this.template=e,this.target!==t.element&&(this.target=t.element,this.renderBefore=this.target.children[0]),this.listenerHost=this.target,this.init()}handleSlottableRequest(t){if(t.target!==t.currentTarget)return;const e=t.data===i;o(e?void 0:this.template(),this.target,{renderBefore:this.renderBefore})}init(){var t;null==(t=this.listeners)||t.abort(),this.listeners=new AbortController;const{signal:e}=this.listeners;this.listenerHost.addEventListener("slottable-request",t=>this.handleSlottableRequest(t),{signal:e})}disconnected(){var t;null==(t=this.listeners)||t.abort()}reconnected(){this.init()}}const h=l(class extends a{constructor(){super(...arguments),this.defaultOptions={triggerInteraction:"click",overlayOptions:{type:"auto",offset:0}},this.options={...this.defaultOptions.overlayOptions}}render(t,e){return n}update(t,[i,r]){var n,o,l,a;this.options={...this.defaultOptions.overlayOptions,...null==r?void 0:r.overlayOptions},this.insertionOptions=null==r?void 0:r.insertionOptions,this.template=i,this.host=null==(n=t.options)?void 0:n.host;let h=!1;const d=(null==r?void 0:r.triggerInteraction)||this.defaultOptions.triggerInteraction,p=e[null==(o=this.strategy)?void 0:o.type]!==d;this.target!==t.element&&(this.target=t.element,h=!0),(h||p)&&(null==(l=this.strategy)||l.abort(),this.strategy=new s[d](this.target,{isPersistent:!0,handleOverlayReady:t=>{this.listenerHost=this.overlay=t,this.init()}})),this.strategy.open=null!=(a=null==r?void 0:r.open)&&a}handleSlottableRequest(e){var s,r;if(e.target!==e.currentTarget)return;const n=e.data===i,l={};if(this.host&&(l.host=this.host),o(n?void 0:this.template(),this.overlay,l),n)this.overlay.remove();else{t.applyOptions(this.overlay,{...this.options,trigger:this.target});const e="function"==typeof(null==(s=this.insertionOptions)?void 0:s.el)?this.insertionOptions.el():(null==(r=this.insertionOptions)?void 0:r.el)||this.target,{where:i="afterend"}=this.insertionOptions||{};e.insertAdjacentElement(i,this.overlay)}}disconnected(){var t;this.overlay&&(this.overlay.open=!1,this.overlay.remove()),null==(t=this.strategy)||t.clearOverlay(),super.disconnected()}reconnected(){}});export{h as t};
//# sourceMappingURL=swc.B9c-wRTg.js.map
