{"version":3,"file":"swc.jsLyP3iI.js","sources":["../../../packages/modal/src/modal-wrapper.css.js","../../../packages/dialog/src/DialogBase.js","../../../packages/dialog/sp-dialog-base.js"],"sourcesContent":["\"use strict\";import{css as i}from\"@spectrum-web-components/base\";const e=i`\n    :host{box-sizing:border-box;visibility:hidden;z-index:1;pointer-events:none;block-size:stretch;inline-size:100vw;transition:visibility 0s linear var(--mod-modal-transition-animation-duration,var(--spectrum-animation-duration-100));justify-content:center;align-items:center;display:flex;position:fixed;inset-block-start:0;inset-inline-start:0}:host([open]){visibility:visible}@media only screen and (device-height<=350px),only screen and (device-width<=400px){:host([responsive]){border-radius:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;margin-block-start:0}}\n`;export default e;\n//# sourceMappingURL=modal-wrapper.css.js.map\n","\"use strict\";var p=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var s=(l,n,e,i)=>{for(var t=i>1?void 0:i?u(n,e):n,o=l.length-1,r;o>=0;o--)(r=l[o])&&(t=(i?r(n,e,t):r(t))||t);return i&&t&&p(n,e,t),t};import{html as d,nothing as h,SpectrumElement as c}from\"@spectrum-web-components/base\";import{property as a}from\"@spectrum-web-components/base/src/decorators.js\";import m from\"@spectrum-web-components/modal/src/modal.css.js\";import f from\"@spectrum-web-components/modal/src/modal-wrapper.css.js\";import{FocusVisiblePolyfillMixin as v}from\"@spectrum-web-components/shared\";import{firstFocusableIn as y}from\"@spectrum-web-components/shared/src/first-focusable-in.js\";import\"@spectrum-web-components/button/sp-button.js\";import\"@spectrum-web-components/underlay/sp-underlay.js\";import\"@spectrum-web-components/dialog/sp-dialog.js\";export class DialogBase extends v(c){constructor(){super(...arguments);this.dismissable=!1;this.open=!1;this.responsive=!1;this.transitionPromise=Promise.resolve();this.resolveTransitionPromise=()=>{};this.underlay=!1;this.animating=!1}static get styles(){return[f,m]}get dialog(){return this.shadowRoot.querySelector(\"slot\").assignedElements()[0]||this}async focus(){if(this.shadowRoot){const e=y(this.dialog);e?(e.updateComplete&&await e.updateComplete,e.focus()):this.dialog.focus()}else super.focus()}overlayWillCloseCallback(){return this.open?(this.close(),!0):this.animating}dismiss(){this.dismissable&&this.close()}handleClose(e){e.stopPropagation(),this.close()}close(){this.open=!1}dispatchClosed(){this.dispatchEvent(new Event(\"close\",{bubbles:!0}))}handleTransitionEvent(e){this.dispatchEvent(new TransitionEvent(e.type,{bubbles:!0,composed:!0,propertyName:e.propertyName}))}handleUnderlayTransitionend(e){!this.open&&e.propertyName===\"visibility\"&&this.resolveTransitionPromise(),this.handleTransitionEvent(e)}handleModalTransitionend(e){(this.open||!this.underlay)&&this.resolveTransitionPromise(),this.handleTransitionEvent(e)}get hasTransitionDuration(){const e=this.shadowRoot.querySelector(\".modal\"),i=window.getComputedStyle(e).transitionDuration;for(const o of i.split(\",\"))if(parseFloat(o)>0)return!0;const t=this.shadowRoot.querySelector(\"sp-underlay\");if(t){const o=window.getComputedStyle(t).transitionDuration;for(const r of o.split(\",\"))if(parseFloat(r)>0)return!0}return!1}update(e){if(e.has(\"open\")&&e.get(\"open\")!==void 0){const i=this.hasTransitionDuration;this.animating=!0,this.transitionPromise=new Promise(t=>{this.resolveTransitionPromise=()=>{this.animating=!1,!this.open&&i&&this.dispatchClosed(),t()}}),!this.open&&!i&&this.dispatchClosed()}super.update(e)}renderDialog(){return d`\n      <slot></slot>\n    `}render(){return d`\n      ${this.underlay?d`\n            <sp-underlay\n              ?open=${this.open}\n              @close=${this.dismiss}\n              @transitionrun=${this.handleTransitionEvent}\n              @transitionend=${this.handleUnderlayTransitionend}\n              @transitioncancel=${this.handleTransitionEvent}\n            ></sp-underlay>\n          `:h}\n      <div\n        class=\"modal ${this.mode}\"\n        @transitionrun=${this.handleTransitionEvent}\n        @transitionend=${this.handleModalTransitionend}\n        @transitioncancel=${this.handleTransitionEvent}\n        @close=${this.handleClose}\n      >\n        ${this.renderDialog()}\n      </div>\n    `}updated(e){e.has(\"open\")&&this.open&&\"updateComplete\"in this.dialog&&\"shouldManageTabOrderForScrolling\"in this.dialog&&this.dialog.updateComplete.then(()=>{this.dialog.shouldManageTabOrderForScrolling()})}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.transitionPromise,e}}s([a({type:Boolean,reflect:!0})],DialogBase.prototype,\"dismissable\",2),s([a({type:Boolean,reflect:!0})],DialogBase.prototype,\"open\",2),s([a({type:String,reflect:!0})],DialogBase.prototype,\"mode\",2),s([a({type:Boolean})],DialogBase.prototype,\"responsive\",2),s([a({type:Boolean})],DialogBase.prototype,\"underlay\",2);\n//# sourceMappingURL=DialogBase.js.map\n","\"use strict\";import{defineElement as e}from\"@spectrum-web-components/base/src/define-element.js\";import{DialogBase as a}from\"./src/DialogBase.js\";e(\"sp-dialog-base\",a);\n//# sourceMappingURL=sp-dialog-base.js.map\n"],"names":["e","i","DialogBase","v","c","constructor","super","arguments","this","dismissable","open","responsive","transitionPromise","Promise","resolve","resolveTransitionPromise","underlay","animating","styles","f","m","dialog","shadowRoot","querySelector","assignedElements","focus","y","updateComplete","overlayWillCloseCallback","close","dismiss","handleClose","stopPropagation","dispatchClosed","dispatchEvent","Event","bubbles","handleTransitionEvent","TransitionEvent","type","composed","propertyName","handleUnderlayTransitionend","handleModalTransitionend","hasTransitionDuration","window","getComputedStyle","transitionDuration","o","split","parseFloat","t","r","update","has","get","renderDialog","d","render","h","mode","updated","then","shouldManageTabOrderForScrolling","getUpdateComplete","s","a","Boolean","reflect","prototype","String"],"mappings":"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"}