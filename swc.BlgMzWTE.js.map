{"version":3,"file":"swc.nrLx3XCP.js","sources":["../../../tools/reactive-controllers/src/RovingTabindex.js"],"sourcesContent":["\"use strict\";import{FocusGroupController as i}from\"./FocusGroup.js\";export class RovingTabindexController extends i{constructor(){super(...arguments);this.managed=!0;this.manageIndexesAnimationFrame=0}set focused(e){e!==this.focused&&(super.focused=e,this.manageTabindexes())}get focused(){return super.focused}clearElementCache(e=0){cancelAnimationFrame(this.manageIndexesAnimationFrame),super.clearElementCache(e),this.managed&&(this.manageIndexesAnimationFrame=requestAnimationFrame(()=>this.manageTabindexes()))}manageTabindexes(){this.focused&&!this.hostDelegatesFocus?this.updateTabindexes(()=>({tabIndex:-1})):this.updateTabindexes(e=>({removeTabIndex:e.contains(this.focusInElement)&&e!==this.focusInElement,tabIndex:e===this.focusInElement?0:-1}))}updateTabindexes(e){this.elements.forEach(a=>{const{tabIndex:n,removeTabIndex:s}=e(a);if(!s){this.focused?a!==this.elements[this.currentIndex]&&(a.tabIndex=n):a.tabIndex=n;return}const t=a;t.requestUpdate&&t.requestUpdate()})}manage(){this.managed=!0,this.manageTabindexes(),super.manage()}unmanage(){this.managed=!1,this.updateTabindexes(()=>({tabIndex:0})),super.unmanage()}hostUpdated(){super.hostUpdated(),this.host.hasUpdated||this.manageTabindexes()}}\n//# sourceMappingURL=RovingTabindex.js.map\n"],"names":["RovingTabindexController","i","constructor","super","arguments","this","managed","manageIndexesAnimationFrame","focused","e","manageTabindexes","clearElementCache","cancelAnimationFrame","requestAnimationFrame","hostDelegatesFocus","updateTabindexes","tabIndex","removeTabIndex","contains","focusInElement","elements","forEach","a","n","s","currentIndex","t","requestUpdate","manage","unmanage","hostUpdated","host","hasUpdated"],"mappings":"sCAmBO,MAAMA,UAEHC,EAFHC,WAAAA,GAAAC,SAAAC,WAeLC,KAAQC,SAAU,EAElBD,KAAQE,4BAA8B,CAAA,CAdtC,WAAuBC,CAAQC,GACzBA,IAAYJ,KAAKG,UAGrBL,MAAMK,QAAUC,EAChBJ,KAAKK,mBACP,CAEA,WAAuBF,GACrB,OAAOL,MAAMK,OACf,CAMSG,iBAAAA,CAAkBF,EAAS,GAClCG,qBAAqBP,KAAKE,6BAC1BJ,MAAMQ,kBAAkBF,GACnBJ,KAAKC,UAIVD,KAAKE,4BAA8BM,sBAAsB,IACvDR,KAAKK,oBAET,CAEAA,gBAAAA,GACML,KAAKG,UAAYH,KAAKS,mBACxBT,KAAKU,iBAAiB,KAAA,CAASC,UAAU,KAEzCX,KAAKU,iBAAkBN,IAAA,CAEnBQ,eACER,EAAGS,SAASb,KAAKc,iBAAmBV,IAAOJ,KAAKc,eAClDH,SAAUP,IAAOJ,KAAKc,eAAiB,OAI/C,CAEAJ,gBAAAA,CAAiBN,GACfJ,KAAKe,SAASC,QAASC,IACrB,MAAQN,SAAAO,EAAUN,eAAAO,GAAmBf,EAAYa,GACjD,IAAKE,EAQH,YAPInB,KAAKG,QACHc,IAAOjB,KAAKe,SAASf,KAAKoB,gBAC5BH,EAAGN,SAAWO,GAGhBD,EAAGN,SAAWO,GAIlB,MAAMG,EAAYJ,EAGdI,EAAUC,eACZD,EAAUC,iBAGhB,CAESC,MAAAA,GACPvB,KAAKC,SAAU,EACfD,KAAKK,mBACLP,MAAMyB,QACR,CAESC,QAAAA,GACPxB,KAAKC,SAAU,EACfD,KAAKU,iBAAiB,KAAA,CAASC,SAAU,KACzCb,MAAM0B,UACR,CAESC,WAAAA,GACP3B,MAAM2B,cACDzB,KAAK0B,KAAKC,YACb3B,KAAKK,kBAET"}